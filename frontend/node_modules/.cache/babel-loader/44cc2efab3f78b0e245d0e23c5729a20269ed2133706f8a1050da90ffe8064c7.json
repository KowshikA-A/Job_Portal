{"ast":null,"code":"var _jsxFileName = \"/Users/roopakowshika/placement/placement__/frontend/src/components/CTCChart.js\",\n  _s = $RefreshSig$();\n// src/components/CTCChart.js\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2'; // Import Line chart\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\n\n// Register necessary Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst CTCChart = () => {\n  _s();\n  const [chartData, setChartData] = useState(null);\n  useEffect(() => {\n    // Fetch data from the backend\n    axios.get('/api/students/ctc-by-school-year').then(response => {\n      const data = response.data;\n\n      // Get unique schools and years\n      const schools = [...new Set(data.map(item => item.school))];\n      const years = [...new Set(data.map(item => item.year))].sort();\n\n      // Create color palette for each school\n      const colors = schools.map((_, index) => `hsl(${index * 360 / schools.length}, 70%, 50%)`);\n\n      // Initialize datasets for each school\n      const datasets = schools.map((school, index) => {\n        // Get average CTC data for each school and year\n        const schoolData = years.map(year => {\n          const item = data.find(d => d.school === school && d.year === year);\n          return item ? item.avgCTC : null; // null if no data for this combination\n        });\n        return {\n          label: school,\n          data: schoolData,\n          backgroundColor: 'transparent',\n          // No background for lines\n          borderColor: colors[index],\n          // Different color for each school\n          borderWidth: 2,\n          // Width of the line\n          fill: false,\n          // Do not fill under the line\n          tension: 0.4 // Smooth curve\n        };\n      });\n\n      // Set the data for the chart\n      setChartData({\n        labels: years,\n        datasets\n      });\n    }).catch(error => console.error(\"Error fetching data:\", error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Average CTC by School and Year \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), \" \", chartData ? /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData,\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          x: {\n            title: {\n              display: true,\n              text: 'Year'\n            }\n          },\n          y: {\n            beginAtZero: true,\n            title: {\n              display: true,\n              text: 'CTC in LPA'\n            },\n            ticks: {\n              callback: function (value) {\n                return value + ' LPA'; // Format the Y-axis values as 'LPA'\n              }\n            }\n          }\n        },\n        plugins: {\n          legend: {\n            position: 'top',\n            labels: {\n              boxWidth: 20,\n              // Size of the box next to each legend item\n              padding: 15 // Padding between legend items\n            }\n          },\n          tooltip: {\n            callbacks: {\n              label: function (tooltipItem) {\n                return tooltipItem.raw + ' LPA'; // Format tooltips\n              }\n            }\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \" Loading chart data... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 14\n  }, this);\n};\n_s(CTCChart, \"9euvDhZ+n6eLTlbzwvHmNPhoqAw=\");\n_c = CTCChart;\nexport default CTCChart;\nvar _c;\n$RefreshReg$(_c, \"CTCChart\");","map":{"version":3,"names":["React","useEffect","useState","Line","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","CTCChart","_s","chartData","setChartData","get","then","response","data","schools","Set","map","item","school","years","year","sort","colors","_","index","length","datasets","schoolData","find","d","avgCTC","label","backgroundColor","borderColor","borderWidth","fill","tension","labels","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","options","responsive","maintainAspectRatio","scales","x","title","display","text","y","beginAtZero","ticks","callback","value","plugins","legend","position","boxWidth","padding","tooltip","callbacks","tooltipItem","raw","_c","$RefreshReg$"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/CTCChart.js"],"sourcesContent":["// src/components/CTCChart.js\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2'; // Import Line chart\nimport axios from 'axios';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\n\n// Register necessary Chart.js components\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\n\nconst CTCChart = () => {\n    const [chartData, setChartData] = useState(null);\n\n    useEffect(() => {\n        // Fetch data from the backend\n        axios.get('/api/students/ctc-by-school-year')\n            .then(response => {\n                const data = response.data;\n\n                // Get unique schools and years\n                const schools = [...new Set(data.map(item => item.school))];\n                const years = [...new Set(data.map(item => item.year))].sort();\n\n                // Create color palette for each school\n                const colors = schools.map((_, index) => `hsl(${(index * 360) / schools.length}, 70%, 50%)`);\n\n                // Initialize datasets for each school\n                const datasets = schools.map((school, index) => {\n                    // Get average CTC data for each school and year\n                    const schoolData = years.map(year => {\n                        const item = data.find(d => d.school === school && d.year === year);\n                        return item ? item.avgCTC : null; // null if no data for this combination\n                    });\n\n                    return {\n                        label: school,\n                        data: schoolData,\n                        backgroundColor: 'transparent', // No background for lines\n                        borderColor: colors[index], // Different color for each school\n                        borderWidth: 2, // Width of the line\n                        fill: false, // Do not fill under the line\n                        tension: 0.4 // Smooth curve\n                    };\n                });\n\n                // Set the data for the chart\n                setChartData({\n                    labels: years,\n                    datasets\n                });\n            })\n            .catch(error => console.error(\"Error fetching data:\", error));\n    }, []);\n\n    return ( <\n        div >\n        <\n        h2 > Average CTC by School and Year < /h2> {\n            chartData ? ( <\n                Line data = { chartData }\n                options = {\n                    {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        scales: {\n                            x: {\n                                title: {\n                                    display: true,\n                                    text: 'Year'\n                                }\n                            },\n                            y: {\n                                beginAtZero: true,\n                                title: {\n                                    display: true,\n                                    text: 'CTC in LPA'\n                                },\n                                ticks: {\n                                    callback: function(value) {\n                                        return value + ' LPA'; // Format the Y-axis values as 'LPA'\n                                    }\n                                }\n                            }\n                        },\n                        plugins: {\n                            legend: {\n                                position: 'top',\n                                labels: {\n                                    boxWidth: 20, // Size of the box next to each legend item\n                                    padding: 15 // Padding between legend items\n                                }\n                            },\n                            tooltip: {\n                                callbacks: {\n                                    label: function(tooltipItem) {\n                                        return tooltipItem.raw + ' LPA'; // Format tooltips\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                />\n            ) : ( <\n                p > Loading chart data... < /p>\n            )\n        } <\n        /div>\n    );\n};\n\nexport default CTCChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}