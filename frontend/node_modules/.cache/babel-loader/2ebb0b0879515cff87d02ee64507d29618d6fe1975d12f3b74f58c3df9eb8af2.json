{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./VerticalNavBar.css';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VerticalNavBar(_ref){let{onFilterChange,onYearChange,onTypeChange,onSchoolChange,toggleCompanyList,showCompanyList}=_ref;const[tooltip,setTooltip]=useState('');const[tooltipPosition,setTooltipPosition]=useState({top:0,left:0});const[schools,setSchools]=useState([]);const[types,setTypes]=useState([]);const[years,setYears]=useState([]);const[loading,setLoading]=useState(true);// Fetch filter data from the backend\nuseEffect(()=>{const fetchData=async()=>{try{const response=await axios.get('/api/filters');if(response.data){const{schools,types,years}=response.data;// Validate the structure of data before setting state\nif(Array.isArray(schools))setSchools(schools);if(Array.isArray(types))setTypes(types);if(Array.isArray(years))setYears(years);}setLoading(false);}catch(error){console.error('Error fetching filter data:',error);setLoading(false);}};fetchData();},[]);// Handle mouse events for tooltips\nconst handleMouseEnter=(text,event)=>{setTooltip(text);const{top,left,height}=event.currentTarget.getBoundingClientRect();const adjustedTop=top+height+window.scrollY;const adjustedLeft=left+window.scrollX;setTooltipPosition({top:adjustedTop,left:adjustedLeft});};const handleMouseLeave=()=>{setTooltip('');};const handleSchoolChange=event=>{const selectedSchool=event.target.value;onSchoolChange(selectedSchool);// This should call the function passed from the parent\n};const handleTypeChange=event=>{const selectedType=event.target.value;onTypeChange(selectedType);};const handleYearChange=event=>{const selectedYear=event.target.value;onYearChange(selectedYear);};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\" Loading filters... \"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"vertical-nav\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onFilterChange('All Students'),onMouseEnter:e=>handleMouseEnter(\"View all students regardless of placement status.\",e),onMouseLeave:handleMouseLeave,children:\"All Students \"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onFilterChange('Placed'),onMouseEnter:e=>handleMouseEnter(\"View only the students who have been placed.\",e),onMouseLeave:handleMouseLeave,children:\"Placed Students \"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onFilterChange('Not placed'),onMouseEnter:e=>handleMouseEnter(\"View students who have not been placed.\",e),onMouseLeave:handleMouseLeave,children:\"Not Placed Students \"}),\" \",/*#__PURE__*/_jsxs(\"select\",{onChange:handleSchoolChange,onMouseEnter:e=>handleMouseEnter(\"Select a school to filter students.\",e),onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" Select School \"}),\" \",schools.map((school,index)=>/*#__PURE__*/_jsxs(\"option\",{value:school,children:[\" \",school,\" \"]},index)),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"select\",{onChange:handleYearChange,onMouseEnter:e=>handleMouseEnter(\"Select a year to filter students by their application year.\",e),onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" Select Year \"}),\" \",years.map((year,index)=>/*#__PURE__*/_jsxs(\"option\",{value:year,children:[\"Year \",year,\" \"]},index)),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"select\",{onChange:handleTypeChange,onMouseEnter:e=>handleMouseEnter(\"Select a type to filter students.\",e),onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" Select Type \"}),\" \",types.map((type,index)=>/*#__PURE__*/_jsxs(\"option\",{value:type,children:[\" \",type,\" \"]},index)),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:toggleCompanyList,onMouseEnter:e=>handleMouseEnter(showCompanyList?\"Hide the list of companies visited.\":\"Show the list of companies visited.\",e),onMouseLeave:handleMouseLeave,children:[\" \",showCompanyList?'Hide Companies':'Companies Visited',\" \"]}),\" \",/*#__PURE__*/_jsx(Link,{to:\"/job-notifications\",className:\"nav-link\",onMouseEnter:e=>handleMouseEnter(\"View job notifications.\",e),onMouseLeave:handleMouseLeave,children:\"Job Notifications \"}),\" \",tooltip&&/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip\",style:{top:tooltipPosition.top,left:tooltipPosition.left},children:[\" \",tooltip,\" \"]}),\" \"]});}export default VerticalNavBar;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","VerticalNavBar","_ref","onFilterChange","onYearChange","onTypeChange","onSchoolChange","toggleCompanyList","showCompanyList","tooltip","setTooltip","tooltipPosition","setTooltipPosition","top","left","schools","setSchools","types","setTypes","years","setYears","loading","setLoading","fetchData","response","get","data","Array","isArray","error","console","handleMouseEnter","text","event","height","currentTarget","getBoundingClientRect","adjustedTop","window","scrollY","adjustedLeft","scrollX","handleMouseLeave","handleSchoolChange","selectedSchool","target","value","handleTypeChange","selectedType","handleYearChange","selectedYear","children","className","onClick","onMouseEnter","e","onMouseLeave","onChange","map","school","index","year","type","to","style"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/VerticalNavBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './VerticalNavBar.css';\nimport { Link } from 'react-router-dom';\n\nfunction VerticalNavBar({ onFilterChange, onYearChange, onTypeChange, onSchoolChange, toggleCompanyList, showCompanyList }) {\n    const [tooltip, setTooltip] = useState('');\n    const [tooltipPosition, setTooltipPosition] = useState({ top: 0, left: 0 });\n    const [schools, setSchools] = useState([]);\n    const [types, setTypes] = useState([]);\n    const [years, setYears] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    // Fetch filter data from the backend\n    useEffect(() => {\n        const fetchData = async() => {\n            try {\n                const response = await axios.get('/api/filters');\n                if (response.data) {\n                    const { schools, types, years } = response.data;\n\n                    // Validate the structure of data before setting state\n                    if (Array.isArray(schools)) setSchools(schools);\n                    if (Array.isArray(types)) setTypes(types);\n                    if (Array.isArray(years)) setYears(years);\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Error fetching filter data:', error);\n                setLoading(false);\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    // Handle mouse events for tooltips\n    const handleMouseEnter = (text, event) => {\n        setTooltip(text);\n        const { top, left, height } = event.currentTarget.getBoundingClientRect();\n        const adjustedTop = top + height + window.scrollY;\n        const adjustedLeft = left + window.scrollX;\n\n        setTooltipPosition({ top: adjustedTop, left: adjustedLeft });\n    };\n\n    const handleMouseLeave = () => {\n        setTooltip('');\n    };\n\n    const handleSchoolChange = (event) => {\n        const selectedSchool = event.target.value;\n        onSchoolChange(selectedSchool); // This should call the function passed from the parent\n    };\n\n\n    const handleTypeChange = (event) => {\n        const selectedType = event.target.value;\n        onTypeChange(selectedType);\n    };\n\n    const handleYearChange = (event) => {\n        const selectedYear = event.target.value;\n        onYearChange(selectedYear);\n    };\n\n    if (loading) {\n        return <div > Loading filters... < /div>;\n    }\n\n    return ( <\n            div className = \"vertical-nav\" >\n            <\n            button onClick = {\n                () => onFilterChange('All Students')\n            }\n            onMouseEnter = {\n                (e) => handleMouseEnter(\"View all students regardless of placement status.\", e)\n            }\n            onMouseLeave = { handleMouseLeave } >\n            All Students <\n            /button>\n\n            <\n            button onClick = {\n                () => onFilterChange('Placed')\n            }\n            onMouseEnter = {\n                (e) => handleMouseEnter(\"View only the students who have been placed.\", e)\n            }\n            onMouseLeave = { handleMouseLeave } >\n            Placed Students <\n            /button>\n\n            <\n            button onClick = {\n                () => onFilterChange('Not placed')\n            }\n            onMouseEnter = {\n                (e) => handleMouseEnter(\"View students who have not been placed.\", e)\n            }\n            onMouseLeave = { handleMouseLeave } >\n            Not Placed Students <\n            /button>\n\n            { /* School Dropdown */ } <\n            select onChange = { handleSchoolChange }\n            onMouseEnter = {\n                (e) => handleMouseEnter(\"Select a school to filter students.\", e)\n            }\n            onMouseLeave = { handleMouseLeave } >\n            <\n            option value = \"\" > Select School < /option> {\n            schools.map((school, index) => ( <\n                option key = { index }\n                value = { school } > { school } <\n                /option>\n            ))\n        } <\n        /select>\n\n    { /* Year Dropdown */ } <\n    select onChange = { handleYearChange }\n    onMouseEnter = {\n        (e) => handleMouseEnter(\"Select a year to filter students by their application year.\", e)\n    }\n    onMouseLeave = { handleMouseLeave } >\n        <\n        option value = \"\" > Select Year < /option> {\n    years.map((year, index) => ( <\n        option key = { index }\n        value = { year } >\n        Year { year } <\n        /option>\n    ))\n} <\n/select>\n\n{ /* Type Dropdown */ } <\nselect onChange = { handleTypeChange }\nonMouseEnter = {\n    (e) => handleMouseEnter(\"Select a type to filter students.\", e)\n}\nonMouseLeave = { handleMouseLeave } >\n    <\n    option value = \"\" > Select Type < /option> {\ntypes.map((type, index) => ( <\n    option key = { index }\n    value = { type } > { type } <\n    /option>\n))\n} <\n/select>\n\n{ /* Companies Visited Button */ } <\nbutton onClick = { toggleCompanyList }\nonMouseEnter = {\n    (e) =>\n    handleMouseEnter(showCompanyList ? \"Hide the list of companies visited.\" : \"Show the list of companies visited.\", e)\n}\nonMouseLeave = { handleMouseLeave } > { showCompanyList ? 'Hide Companies' : 'Companies Visited' } <\n    /button>\n\n{ /* Job Notifications Link */ } <\nLink to = \"/job-notifications\"\nclassName = \"nav-link\"\nonMouseEnter = {\n    (e) => handleMouseEnter(\"View job notifications.\", e)\n}\nonMouseLeave = { handleMouseLeave } >\n    Job Notifications <\n    /Link>\n\n{ /* Tooltip Rendering */ } {\n    tooltip && ( <\n        div className = \"tooltip\"\n        style = {\n            { top: tooltipPosition.top, left: tooltipPosition.left }\n        } > { tooltip } <\n        /div>\n    )\n} <\n/div>\n);\n}\n\nexport default VerticalNavBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}