{"ast":null,"code":"var _jsxFileName = \"/Users/roopakowshika/placement/placement__/frontend/src/components/StudentList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchStudents } from '../api/studentAPI'; // Your API call function\nimport FilterComponent from './Vertical'; // Import the filter component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentList() {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filterParams, setFilterParams] = useState({\n    filter: '',\n    year: '',\n    searchTerm: '',\n    schoolFilter: '',\n    typeFilter: ''\n  });\n  useEffect(() => {\n    const loadStudents = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch students based on filterParams (including schoolFilter, typeFilter)\n        const data = await fetchStudents(filterParams.filter, filterParams.year, filterParams.searchTerm, filterParams.schoolFilter, filterParams.typeFilter);\n        setStudents(data);\n      } catch (error) {\n        setError('Failed to load students.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadStudents();\n  }, [filterParams]); // Run whenever filterParams change\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FilterComponent, {\n      setFilterParams: setFilterParams\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), \" \", loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \" Loading... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", students.map(student => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", student.Name, \" \"]\n      }, student.Reg_No, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 49\n    }, this), \" \", error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\" \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 22\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 14\n  }, this);\n}\n_s(StudentList, \"QDT6ZnDv5lzD0Q1m1Eq/nLtLbvQ=\");\n_c = StudentList;\nexport default StudentList;\nvar _c;\n$RefreshReg$(_c, \"StudentList\");","map":{"version":3,"names":["React","useState","useEffect","fetchStudents","FilterComponent","jsxDEV","_jsxDEV","StudentList","_s","students","setStudents","loading","setLoading","error","setError","filterParams","setFilterParams","filter","year","searchTerm","schoolFilter","typeFilter","loadStudents","data","children","fileName","_jsxFileName","lineNumber","columnNumber","map","student","Name","Reg_No","_c","$RefreshReg$"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/StudentList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchStudents } from '../api/studentAPI'; // Your API call function\nimport FilterComponent from './Vertical'; // Import the filter component\n\nfunction StudentList() {\n    const [students, setStudents] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [filterParams, setFilterParams] = useState({\n        filter: '',\n        year: '',\n        searchTerm: '',\n        schoolFilter: '',\n        typeFilter: ''\n    });\n\n    useEffect(() => {\n        const loadStudents = async() => {\n            try {\n                setLoading(true);\n\n                // Fetch students based on filterParams (including schoolFilter, typeFilter)\n                const data = await fetchStudents(\n                    filterParams.filter,\n                    filterParams.year,\n                    filterParams.searchTerm,\n                    filterParams.schoolFilter,\n                    filterParams.typeFilter\n                );\n\n                setStudents(data);\n            } catch (error) {\n                setError('Failed to load students.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadStudents();\n    }, [filterParams]); // Run whenever filterParams change\n\n    return ( <\n        div >\n        <\n        FilterComponent setFilterParams = { setFilterParams }\n        /> { loading ? < p > Loading... < /p >: < div > {\n            students.map(student => < p key = { student.Reg_No } > { student.Name } < /p > )\n            } < /div>} {\n            error && < p > { error } < /p>} < /\n            div >\n        );\n    }\n\n    export default StudentList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,mBAAmB,CAAC,CAAC;AACnD,OAAOC,eAAe,MAAM,YAAY,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC;IAC7CgB,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE,EAAE;IACdC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE;EAChB,CAAC,CAAC;EAEFnB,SAAS,CAAC,MAAM;IACZ,MAAMoB,YAAY,GAAG,MAAAA,CAAA,KAAW;MAC5B,IAAI;QACAV,UAAU,CAAC,IAAI,CAAC;;QAEhB;QACA,MAAMW,IAAI,GAAG,MAAMpB,aAAa,CAC5BY,YAAY,CAACE,MAAM,EACnBF,YAAY,CAACG,IAAI,EACjBH,YAAY,CAACI,UAAU,EACvBJ,YAAY,CAACK,YAAY,EACzBL,YAAY,CAACM,UACjB,CAAC;QAEDX,WAAW,CAACa,IAAI,CAAC;MACrB,CAAC,CAAC,OAAOV,KAAK,EAAE;QACZC,QAAQ,CAAC,0BAA0B,CAAC;MACxC,CAAC,SAAS;QACNF,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDU,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,CAACP,YAAY,CAAC,CAAC,CAAC,CAAC;;EAEpB,oBAAST,OAAA;IAAAkB,QAAA,gBAELlB,OAAA,CACAF,eAAe;MAACY,eAAe,EAAKA;IAAiB;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC,KAAC,EAAEjB,OAAO,gBAAGL,OAAA;MAAAkB,QAAA,EAAK;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,gBAAEtB,OAAA;MAAAkB,QAAA,GAAO,GAAC,EAC5Cf,QAAQ,CAACoB,GAAG,CAACC,OAAO,iBAAIxB,OAAA;QAAAkB,QAAA,GAA8B,GAAC,EAAEM,OAAO,CAACC,IAAI,EAAE,GAAC;MAAA,GAApCD,OAAO,CAACE,MAAM;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA2B,CAAE,CAAC,EAC/E,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAAC,GAAC,EACXf,KAAK,iBAAIP,OAAA;MAAAkB,QAAA,GAAK,GAAC,EAAEX,KAAK,EAAE,GAAC;IAAA;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAAC,GAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5B,CAAC;AAEb;AAACpB,EAAA,CA/CID,WAAW;AAAA0B,EAAA,GAAX1B,WAAW;AAiDhB,eAAeA,WAAW;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}