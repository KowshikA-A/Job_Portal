{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Bar}from'react-chartjs-2';import'./MoreData.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MoreData=()=>{const[years,setYears]=useState([]);const[firstYear,setFirstYear]=useState('');const[secondYear,setSecondYear]=useState('');const[data,setData]=useState(null);useEffect(()=>{const fetchUniqueYears=async()=>{try{const response=await axios.get('http://localhost:1000/api/suggest-years');console.log('Fetched years:',response.data.years);setYears(response.data.years||[]);}catch(error){console.error('Error fetching years:',error);}};fetchUniqueYears();},[]);const generateYearRange=startYear=>{const start=parseInt(startYear,10);return Array.from({length:5},(v,i)=>start+i);};const handleCompare=async()=>{if(firstYear&&secondYear){const firstYearRange=generateYearRange(firstYear);const secondYearRange=generateYearRange(secondYear);try{const response=await axios.post('http://localhost:1000/api/compare-years',{firstYearRange,secondYearRange});const{statuses,firstYearData,secondYearData}=response.data;const chartData={labels:statuses,datasets:[{label:`Data for ${firstYearRange.join(', ')}`,data:firstYearData,backgroundColor:'#5C8374'},{label:`Data for ${secondYearRange.join(', ')}`,data:secondYearData,backgroundColor:'#FF8F8F'}]};setData(chartData);}catch(error){console.error('Error comparing year ranges:',error);}}else{console.log('Please select both years.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"more-data-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Compare Placement Statistics \"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"selectors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdowns\",children:[/*#__PURE__*/_jsxs(\"select\",{value:firstYear,onChange:e=>setFirstYear(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" Select Year for First Range \"}),\" \",years.length>0?years.map(year=>/*#__PURE__*/_jsxs(\"option\",{value:year,children:[\" \",year,\" \"]},year)):/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" No Years Available \"}),\" \"]}),/*#__PURE__*/_jsxs(\"select\",{value:secondYear,onChange:e=>setSecondYear(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" Select Year for Second Range \"}),\" \",years.length>0?years.map(year=>/*#__PURE__*/_jsxs(\"option\",{value:year,children:[\" \",year,\" \"]},year)):/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" No Years Available \"}),\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCompare,className:\"submitt-btn\",children:\" Submit \"}),\" \"]}),\" \"]}),data&&/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsx(Bar,{data:data,options:{responsive:true,scales:{y:{beginAtZero:true,title:{display:true,text:'Counts'}},x:{title:{display:true,text:'Application Status'}}},plugins:{legend:{position:'top'},tooltip:{callbacks:{label:context=>`${context.dataset.label}: ${context.raw}`}}}}}),\" \"]}),\" \"]});};export default MoreData;","map":{"version":3,"names":["React","useState","useEffect","axios","Bar","jsx","_jsx","jsxs","_jsxs","MoreData","years","setYears","firstYear","setFirstYear","secondYear","setSecondYear","data","setData","fetchUniqueYears","response","get","console","log","error","generateYearRange","startYear","start","parseInt","Array","from","length","v","i","handleCompare","firstYearRange","secondYearRange","post","statuses","firstYearData","secondYearData","chartData","labels","datasets","label","join","backgroundColor","className","children","value","onChange","e","target","map","year","onClick","options","responsive","scales","y","beginAtZero","title","display","text","x","plugins","legend","position","tooltip","callbacks","context","dataset","raw"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/MoreData.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Bar } from 'react-chartjs-2';\nimport './MoreData.css';\n\nconst MoreData = () => {\n        const [years, setYears] = useState([]);\n        const [firstYear, setFirstYear] = useState('');\n        const [secondYear, setSecondYear] = useState('');\n        const [data, setData] = useState(null);\n\n        useEffect(() => {\n            const fetchUniqueYears = async() => {\n                try {\n                    const response = await axios.get('http://localhost:1000/api/suggest-years');\n                    console.log('Fetched years:', response.data.years);\n                    setYears(response.data.years || []);\n                } catch (error) {\n                    console.error('Error fetching years:', error);\n                }\n            };\n\n            fetchUniqueYears();\n        }, []);\n\n        const generateYearRange = (startYear) => {\n            const start = parseInt(startYear, 10);\n            return Array.from({ length: 5 }, (v, i) => start + i);\n        };\n\n        const handleCompare = async() => {\n            if (firstYear && secondYear) {\n                const firstYearRange = generateYearRange(firstYear);\n                const secondYearRange = generateYearRange(secondYear);\n\n                try {\n                    const response = await axios.post('http://localhost:1000/api/compare-years', {\n                        firstYearRange,\n                        secondYearRange,\n                    });\n\n                    const { statuses, firstYearData, secondYearData } = response.data;\n                    const chartData = {\n                        labels: statuses,\n                        datasets: [{\n                                label: `Data for ${firstYearRange.join(', ')}`,\n                                data: firstYearData,\n                                backgroundColor: '#5C8374',\n                            },\n                            {\n                                label: `Data for ${secondYearRange.join(', ')}`,\n                                data: secondYearData,\n                                backgroundColor: '#FF8F8F',\n                            },\n                        ],\n                    };\n\n                    setData(chartData);\n                } catch (error) {\n                    console.error('Error comparing year ranges:', error);\n                }\n            } else {\n                console.log('Please select both years.');\n            }\n        };\n\n        return ( <\n                div className = \"more-data-page\" >\n                <\n                h2 > Compare Placement Statistics < /h2> <\n                div className = \"selectors\" >\n                <\n                div className = \"dropdowns\" >\n                <\n                select value = { firstYear }\n                onChange = {\n                    (e) => setFirstYear(e.target.value)\n                } >\n                <\n                option value = \"\" > Select Year\n                for First Range < /option> {\n                years.length > 0 ? (\n                    years.map((year) => ( <\n                        option key = { year }\n                        value = { year } > { year } < /option>\n                    ))\n                ) : ( <\n                    option value = \"\" > No Years Available < /option>\n                )\n            } <\n            /select>\n\n        <\n        select value = { secondYear }\n        onChange = {\n                (e) => setSecondYear(e.target.value)\n            } >\n            <\n            option value = \"\" > Select Year\n        for Second Range < /option> {\n        years.length > 0 ? (\n            years.map((year) => ( <\n                option key = { year }\n                value = { year } > { year } < /option>\n            ))\n        ) : ( <\n            option value = \"\" > No Years Available < /option>\n        )\n    } <\n    /select> < /\ndiv >\n\n    <\n    div className = \"button-container\" >\n    <\n    button onClick = { handleCompare }\nclassName = \"submitt-btn\" > Submit < /button> < /\ndiv > <\n    /div>\n\n{\n    data && ( <\n        div className = \"results\" >\n        <\n        Bar data = { data }\n        options = {\n            {\n                responsive: true,\n                scales: {\n                    y: {\n                        beginAtZero: true,\n                        title: {\n                            display: true,\n                            text: 'Counts',\n                        },\n                    },\n                    x: {\n                        title: {\n                            display: true,\n                            text: 'Application Status',\n                        },\n                    },\n                },\n                plugins: {\n                    legend: {\n                        position: 'top',\n                    },\n                    tooltip: {\n                        callbacks: {\n                            label: (context) => `${context.dataset.label}: ${context.raw}`,\n                        },\n                    },\n                },\n            }\n        }\n        /> < /\n        div >\n    )\n} <\n/div>\n);\n};\n\nexport default MoreData;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}