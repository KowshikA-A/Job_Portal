{"ast":null,"code":"var _jsxFileName = \"/Users/roopakowshika/placement/placement__/frontend/src/components/Monitoring.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Monitoring = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [years, setYears] = useState([]);\n  const [selectedYear, setSelectedYear] = useState('');\n  const [chartData, setChartData] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get('http://localhost:1000/api/monitoring');\n        setData(response.data);\n        const uniqueYears = [...new Set(response.data.map(item => item.year))];\n        setYears(uniqueYears);\n        if (uniqueYears.length > 0) {\n          setSelectedYear(uniqueYears[0]); // Set default selected year\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, []);\n  useEffect(() => {\n    const yearData = {};\n    data.forEach(item => {\n      if (!yearData[item.year]) {\n        yearData[item.year] = {\n          Placed: 0,\n          'Not Placed': 0,\n          Shortlisted: 0,\n          Applied: 0\n        };\n      }\n      yearData[item.year][item.ApplicationStatus]++;\n    });\n    if (selectedYear) {\n      setChartData({\n        labels: ['Placed', 'Not Placed', 'Shortlisted', 'Applied'],\n        datasets: years.map(year => ({\n          label: year,\n          data: ['Placed', 'Not Placed', 'Shortlisted', 'Applied'].map(status => ({\n            status,\n            count: yearData[year] ? yearData[year][status] || 0 : 0\n          }))\n        }))\n      });\n    }\n  }, [data, selectedYear, years]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Monitoring \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedYear,\n      onChange: e => setSelectedYear(e.target.value),\n      children: [\" \", years.map(year => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: year,\n        children: [\" \", year, \" \"]\n      }, year, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 32\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 18\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 14\n  }, this);\n};\n_s(Monitoring, \"V9TvzT7w42vlCRU3p8c1WZYewlM=\");\n_c = Monitoring;\nexport default Monitoring;\nvar _c;\n$RefreshReg$(_c, \"Monitoring\");","map":{"version":3,"names":["React","useEffect","useState","Line","axios","jsxDEV","_jsxDEV","Monitoring","_s","data","setData","years","setYears","selectedYear","setSelectedYear","chartData","setChartData","fetchData","response","get","uniqueYears","Set","map","item","year","length","error","console","yearData","forEach","Placed","Shortlisted","Applied","ApplicationStatus","labels","datasets","label","status","count","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","_c","$RefreshReg$"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/Monitoring.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport axios from 'axios';\n\nconst Monitoring = () => {\n    const [data, setData] = useState([]);\n    const [years, setYears] = useState([]);\n    const [selectedYear, setSelectedYear] = useState('');\n    const [chartData, setChartData] = useState({});\n\n    useEffect(() => {\n        const fetchData = async() => {\n            try {\n                const response = await axios.get('http://localhost:1000/api/monitoring');\n                setData(response.data);\n                const uniqueYears = [...new Set(response.data.map(item => item.year))];\n                setYears(uniqueYears);\n                if (uniqueYears.length > 0) {\n                    setSelectedYear(uniqueYears[0]); // Set default selected year\n                }\n            } catch (error) {\n                console.error('Error fetching data:', error);\n            }\n        };\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        const yearData = {};\n        data.forEach(item => {\n            if (!yearData[item.year]) {\n                yearData[item.year] = {\n                    Placed: 0,\n                    'Not Placed': 0,\n                    Shortlisted: 0,\n                    Applied: 0,\n                };\n            }\n            yearData[item.year][item.ApplicationStatus]++;\n        });\n\n        if (selectedYear) {\n            setChartData({\n                labels: ['Placed', 'Not Placed', 'Shortlisted', 'Applied'],\n                datasets: years.map(year => ({\n                    label: year,\n                    data: ['Placed', 'Not Placed', 'Shortlisted', 'Applied'].map(status => ({\n                        status,\n                        count: yearData[year] ? yearData[year][status] || 0 : 0,\n                    })),\n                })),\n            });\n        }\n    }, [data, selectedYear, years]);\n\n    return ( <\n        div >\n        <\n        h2 > Monitoring < /h2> <\n        select value = { selectedYear }\n        onChange = { e => setSelectedYear(e.target.value) } > {\n            years.map(year => ( <\n                option key = { year }\n                value = { year } > { year } < /option>\n            ))\n        } <\n        /select> <\n        Line data = { chartData }\n        /> <\n        /div>\n    );\n};\n\nexport default Monitoring;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}