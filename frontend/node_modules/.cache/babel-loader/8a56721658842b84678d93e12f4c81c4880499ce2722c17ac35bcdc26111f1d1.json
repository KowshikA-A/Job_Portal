{"ast":null,"code":"import React,{useEffect,useState,useCallback}from'react';import axios from'axios';import'./CompanyList.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const CompanyList=_ref=>{let{year}=_ref;const[companies,setCompanies]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const fetchCompanies=useCallback(async()=>{if(!year)return;setLoading(true);setError(null);try{const response=await axios.get(`http://localhost:1000/api/companies?year=${year}`);console.log(response.data);setCompanies(response.data);}catch(error){if(error.response){console.error('Response data:',error.response.data);console.error('Response status:',error.response.status);setError(`Error: ${error.response.data.message||'Failed to fetch companies.'}`);}else if(error.request){console.error('Request data:',error.request);setError('No response received from the server.');}else{console.error('Error message:',error.message);setError('Error setting up request.');}}finally{setLoading(false);}},[year]);useEffect(()=>{fetchCompanies();},[fetchCompanies]);return/*#__PURE__*/_jsxs(\"div\",{className:\"company-list\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\" Companies Visited in \",year,\" \"]}),\" \",loading&&/*#__PURE__*/_jsx(\"p\",{children:\" Loading... \"}),\" \",error&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'red'},children:[\" \",error,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"company-list-items\",children:[\" \",companies.length>0?companies.map(company=>/*#__PURE__*/_jsxs(\"div\",{className:\"company-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",company.name,\" \"]}),\" \",/*#__PURE__*/_jsxs(\"p\",{children:[\" Placed: \",company.placedCount,\" \"]}),\" \"]},company.id||`${company.name}-${company.placedCount}`)):/*#__PURE__*/_jsx(\"p\",{children:\" No companies found for this year. \"}),\" \"]}),\" \"]});};export default CompanyList;","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","jsxs","_jsxs","jsx","_jsx","CompanyList","_ref","year","companies","setCompanies","loading","setLoading","error","setError","fetchCompanies","response","get","console","log","data","status","message","request","className","children","style","color","length","map","company","name","placedCount","id"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/CompanyList.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport './CompanyList.css';\n\nconst CompanyList = ({ year }) => {\n    const [companies, setCompanies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const fetchCompanies = useCallback(async() => {\n        if (!year) return;\n\n        setLoading(true);\n        setError(null);\n\n        try {\n            const response = await axios.get(`http://localhost:1000/api/companies?year=${year}`);\n            console.log(response.data);\n            setCompanies(response.data);\n        } catch (error) {\n            if (error.response) {\n                console.error('Response data:', error.response.data);\n                console.error('Response status:', error.response.status);\n                setError(`Error: ${error.response.data.message || 'Failed to fetch companies.'}`);\n            } else if (error.request) {\n                console.error('Request data:', error.request);\n                setError('No response received from the server.');\n            } else {\n                console.error('Error message:', error.message);\n                setError('Error setting up request.');\n            }\n        } finally {\n            setLoading(false);\n        }\n    }, [year]);\n\n    useEffect(() => {\n        fetchCompanies();\n    }, [fetchCompanies]);\n\n    return ( <\n        div className = \"company-list\" >\n        <\n        h2 > Companies Visited in { year } < /h2> {\n        loading && < p > Loading... < /p>} {\n        error && < p style = {\n            { color: 'red' }\n        } > { error } < /p>} <\n        div className = \"company-list-items\" > {\n            companies.length > 0 ? (\n                companies.map((company) => ( <\n                    div key = { company.id || `${company.name}-${company.placedCount}` }\n                    className = \"company-card\" >\n                    <\n                    h3 > { company.name } < /h3> <\n                    p > Placed: { company.placedCount } < /p> < /\n                    div >\n                ))\n            ) : ( <\n                p > No companies found\n                for this year. < /p>\n            )\n        } <\n        /div> < /\n        div >\n    );\n};\n\nexport default CompanyList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}