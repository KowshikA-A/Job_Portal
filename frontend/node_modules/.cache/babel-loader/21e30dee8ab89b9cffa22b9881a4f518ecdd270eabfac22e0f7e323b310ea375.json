{"ast":null,"code":"var _jsxFileName = \"/Users/roopakowshika/placement/placement__/frontend/src/components/VerticalNavBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SearchBar from './common/SearchBar';\nimport StudentList from './students/StudentList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ParentComponent() {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [year, setYear] = useState('');\n  const [school, setSchool] = useState('');\n  const [type, setType] = useState('');\n  const [schools, setSchools] = useState([]); // State to store unique schools\n  const [types, setTypes] = useState([]); // State to store unique types\n  const [students, setStudents] = useState([]); // Store filtered students\n\n  // Fetch students from the backend and derive unique schools and types\n  useEffect(() => {\n    const fetchStudents = async () => {\n      try {\n        const response = await axios.get('/api/students', {\n          params: {\n            year,\n            school: school || undefined,\n            // Don't include if empty\n            type: type || undefined,\n            // Don't include if empty\n            searchTerm,\n            filter: filter !== 'all' ? filter : undefined // Don't include if 'all'\n          }\n        });\n        setStudents(response.data);\n\n        // Extract unique schools and types from the fetched students\n        const uniqueSchools = [...new Set(response.data.map(student => student.School))];\n        const uniqueTypes = [...new Set(response.data.map(student => student.Type))];\n        setSchools(uniqueSchools);\n        setTypes(uniqueTypes);\n      } catch (error) {\n        console.error('Error fetching students:', error);\n      }\n    };\n    fetchStudents();\n  }, [searchTerm, filter, year, school, type]);\n\n  // Handle search term change\n  const handleSearch = term => {\n    setSearchTerm(term);\n  };\n\n  // Handle filter change (status: \"Placed\", \"Not Placed\", etc.)\n  const handleFilterChange = newFilter => {\n    setFilter(newFilter);\n  };\n\n  // Handle year filter change\n  const handleYearChange = newYear => {\n    setYear(newYear); // No need to convert here since we are sending it directly as an integer\n  };\n\n  // Handle school filter change\n  const handleSchoolChange = newSchool => {\n    setSchool(newSchool); // Corrected to use setSchool\n  };\n\n  // Handle type filter change\n  const handleTypeChange = newType => {\n    setType(newType);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", \" \", /*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 50\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => handleSchoolChange(e.target.value),\n      value: school,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \" Select School \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), \" \", schools.map((schoolItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: schoolItem,\n        children: [\" \", schoolItem, \" \"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 50\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 46\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => handleTypeChange(e.target.value),\n      value: type,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \" Select Type \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), \" \", types.map((typeItem, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: typeItem,\n        children: [\" \", typeItem, \" \"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 38\n      }, this)), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 36\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => handleYearChange(e.target.value),\n      value: year,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \" Select Year \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 2023,\n        children: \" 2023 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 48\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 2024,\n        children: \" 2024 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 43\n      }, this), \" \", / * Add more years as needed * /, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 32\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => handleFilterChange(e.target.value),\n      value: filter,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"all\",\n        children: \" All Students \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Placed\",\n        children: \" Placed \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 52\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Not Placed\",\n        children: \" Not Placed \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 45\n      }, this), \" \", / * Add more statuses as needed * /, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }, this), \" \", /*#__PURE__*/_jsxDEV(StudentList, {\n      students: students\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 59\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 14\n  }, this);\n}\n_s(ParentComponent, \"QUETJ0hIqb/Y6sIPn6TJLpL6vyc=\");\n_c = ParentComponent;\nexport default ParentComponent;\nvar _c;\n$RefreshReg$(_c, \"ParentComponent\");","map":{"version":3,"names":["React","useState","useEffect","axios","SearchBar","StudentList","jsxDEV","_jsxDEV","ParentComponent","_s","searchTerm","setSearchTerm","filter","setFilter","year","setYear","school","setSchool","type","setType","schools","setSchools","types","setTypes","students","setStudents","fetchStudents","response","get","params","undefined","data","uniqueSchools","Set","map","student","School","uniqueTypes","Type","error","console","handleSearch","term","handleFilterChange","newFilter","handleYearChange","newYear","handleSchoolChange","newSchool","handleTypeChange","newType","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","value","schoolItem","index","typeItem","_c","$RefreshReg$"],"sources":["/Users/roopakowshika/placement/placement__/frontend/src/components/VerticalNavBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SearchBar from './common/SearchBar';\nimport StudentList from './students/StudentList';\n\nfunction ParentComponent() {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [filter, setFilter] = useState('all');\n    const [year, setYear] = useState('');\n    const [school, setSchool] = useState('');\n    const [type, setType] = useState('');\n    const [schools, setSchools] = useState([]); // State to store unique schools\n    const [types, setTypes] = useState([]); // State to store unique types\n    const [students, setStudents] = useState([]); // Store filtered students\n\n    // Fetch students from the backend and derive unique schools and types\n    useEffect(() => {\n        const fetchStudents = async() => {\n            try {\n                const response = await axios.get('/api/students', {\n                    params: {\n                        year,\n                        school: school || undefined, // Don't include if empty\n                        type: type || undefined, // Don't include if empty\n                        searchTerm,\n                        filter: filter !== 'all' ? filter : undefined // Don't include if 'all'\n                    }\n                });\n                setStudents(response.data);\n\n                // Extract unique schools and types from the fetched students\n                const uniqueSchools = [...new Set(response.data.map(student => student.School))];\n                const uniqueTypes = [...new Set(response.data.map(student => student.Type))];\n\n                setSchools(uniqueSchools);\n                setTypes(uniqueTypes);\n            } catch (error) {\n                console.error('Error fetching students:', error);\n            }\n        };\n\n        fetchStudents();\n    }, [searchTerm, filter, year, school, type]);\n\n    // Handle search term change\n    const handleSearch = (term) => {\n        setSearchTerm(term);\n    };\n\n    // Handle filter change (status: \"Placed\", \"Not Placed\", etc.)\n    const handleFilterChange = (newFilter) => {\n        setFilter(newFilter);\n    };\n\n    // Handle year filter change\n    const handleYearChange = (newYear) => {\n        setYear(newYear); // No need to convert here since we are sending it directly as an integer\n    };\n\n    // Handle school filter change\n    const handleSchoolChange = (newSchool) => {\n        setSchool(newSchool); // Corrected to use setSchool\n    };\n\n    // Handle type filter change\n    const handleTypeChange = (newType) => {\n        setType(newType);\n    };\n\n    return ( <\n            div > { /* Search Bar Component */ } <\n            SearchBar onSearch = { handleSearch }\n            />\n\n            { /* School Filter Dropdown */ } <\n            select onChange = {\n                (e) => handleSchoolChange(e.target.value)\n            }\n            value = { school } >\n            <\n            option value = \"\" > Select School < /option> {\n            schools.map((schoolItem, index) => ( <\n                option key = { index }\n                value = { schoolItem } > { schoolItem } < /option>\n            ))\n        } <\n        /select>\n\n    { /* Type Filter Dropdown */ } <\n    select onChange = {\n        (e) => handleTypeChange(e.target.value)\n    }\n    value = { type } >\n        <\n        option value = \"\" > Select Type < /option> {\n    types.map((typeItem, index) => ( <\n        option key = { index }\n        value = { typeItem } > { typeItem } < /option>\n    ))\n} <\n/select>\n\n{ /* Year Filter Dropdown */ } <\nselect onChange = {\n    (e) => handleYearChange(e.target.value)\n}\nvalue = { year } >\n    <\n    option value = \"\" > Select Year < /option> <\noption value = { 2023 } > 2023 < /option> <\noption value = { 2024 } > 2024 < /option> { / * Add more years as needed * / } < /\n    select >\n\n    { /* Status Filter */ } <\n    select onChange = {\n        (e) => handleFilterChange(e.target.value)\n    }\nvalue = { filter } >\n    <\n    option value = \"all\" > All Students < /option> <\noption value = \"Placed\" > Placed < /option> <\noption value = \"Not Placed\" > Not Placed < /option> { / * Add more statuses as needed * / } < /\n    select >\n\n    { /* Student List Component with applied filters */ } <\n    StudentList students = { students }\n/> < /\ndiv >\n);\n}\n\nexport default ParentComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,WAAW,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACxC,MAAM,CAACuB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAE9C;EACAC,SAAS,CAAC,MAAM;IACZ,MAAMwB,aAAa,GAAG,MAAAA,CAAA,KAAW;MAC7B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,GAAG,CAAC,eAAe,EAAE;UAC9CC,MAAM,EAAE;YACJf,IAAI;YACJE,MAAM,EAAEA,MAAM,IAAIc,SAAS;YAAE;YAC7BZ,IAAI,EAAEA,IAAI,IAAIY,SAAS;YAAE;YACzBpB,UAAU;YACVE,MAAM,EAAEA,MAAM,KAAK,KAAK,GAAGA,MAAM,GAAGkB,SAAS,CAAC;UAClD;QACJ,CAAC,CAAC;QACFL,WAAW,CAACE,QAAQ,CAACI,IAAI,CAAC;;QAE1B;QACA,MAAMC,aAAa,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACN,QAAQ,CAACI,IAAI,CAACG,GAAG,CAACC,OAAO,IAAIA,OAAO,CAACC,MAAM,CAAC,CAAC,CAAC;QAChF,MAAMC,WAAW,GAAG,CAAC,GAAG,IAAIJ,GAAG,CAACN,QAAQ,CAACI,IAAI,CAACG,GAAG,CAACC,OAAO,IAAIA,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC;QAE5EjB,UAAU,CAACW,aAAa,CAAC;QACzBT,QAAQ,CAACc,WAAW,CAAC;MACzB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MACpD;IACJ,CAAC;IAEDb,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,CAAChB,UAAU,EAAEE,MAAM,EAAEE,IAAI,EAAEE,MAAM,EAAEE,IAAI,CAAC,CAAC;;EAE5C;EACA,MAAMuB,YAAY,GAAIC,IAAI,IAAK;IAC3B/B,aAAa,CAAC+B,IAAI,CAAC;EACvB,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAIC,SAAS,IAAK;IACtC/B,SAAS,CAAC+B,SAAS,CAAC;EACxB,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAIC,OAAO,IAAK;IAClC/B,OAAO,CAAC+B,OAAO,CAAC,CAAC,CAAC;EACtB,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAIC,SAAS,IAAK;IACtC/B,SAAS,CAAC+B,SAAS,CAAC,CAAC,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAIC,OAAO,IAAK;IAClC/B,OAAO,CAAC+B,OAAO,CAAC;EACpB,CAAC;EAED,oBAAS3C,OAAA;IAAA4C,QAAA,GACI,GAAC,EAA8B,GAAC,eAAA5C,OAAA,CACrCH,SAAS;MAACgD,QAAQ,EAAKX;IAAc;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,EAE8B,GAAC,eAAAjD,OAAA;MAC1BkD,QAAQ,EACVC,CAAC,IAAKX,kBAAkB,CAACW,CAAC,CAACC,MAAM,CAACC,KAAK,CAC3C;MACDA,KAAK,EAAK5C,MAAQ;MAAAmC,QAAA,gBAClB5C,OAAA;QACOqD,KAAK,EAAG,EAAE;QAAAT,QAAA,EAAE;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,EAC7CpC,OAAO,CAACc,GAAG,CAAC,CAAC2B,UAAU,EAAEC,KAAK,kBAAOvD,OAAA;QAEjCqD,KAAK,EAAKC,UAAY;QAAAV,QAAA,GAAE,GAAC,EAAEU,UAAU,EAAE,GAAC;MAAA,GADzBC,KAAK;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC6B,CACpD,CAAC,EACL,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,EAEkB,GAAC,eAAAjD,OAAA;MACxBkD,QAAQ,EACVC,CAAC,IAAKT,gBAAgB,CAACS,CAAC,CAACC,MAAM,CAACC,KAAK,CACzC;MACDA,KAAK,EAAK1C,IAAM;MAAAiC,QAAA,gBACZ5C,OAAA;QACOqD,KAAK,EAAG,EAAE;QAAAT,QAAA,EAAE;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,EAC/ClC,KAAK,CAACY,GAAG,CAAC,CAAC6B,QAAQ,EAAED,KAAK,kBAAOvD,OAAA;QAE7BqD,KAAK,EAAKG,QAAU;QAAAZ,QAAA,GAAE,GAAC,EAAEY,QAAQ,EAAE,GAAC;MAAA,GADrBD,KAAK;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACyB,CAChD,CAAC,EACL,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC,EAEsB,GAAC,eAAAjD,OAAA;MACxBkD,QAAQ,EACVC,CAAC,IAAKb,gBAAgB,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CACzC;MACDA,KAAK,EAAK9C,IAAM;MAAAqC,QAAA,gBACZ5C,OAAA;QACOqD,KAAK,EAAG,EAAE;QAAAT,QAAA,EAAE;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,eAAAjD,OAAA;QACxCqD,KAAK,EAAK,IAAM;QAAAT,QAAA,EAAE;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,eAAAjD,OAAA;QACnCqD,KAAK,EAAK,IAAM;QAAAT,QAAA,EAAE;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,EAAE,gCAAgC,EAAE,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC,EAEe,GAAC,eAAAjD,OAAA;MACjBkD,QAAQ,EACVC,CAAC,IAAKf,kBAAkB,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAC3C;MACLA,KAAK,EAAKhD,MAAQ;MAAAuC,QAAA,gBACd5C,OAAA;QACOqD,KAAK,EAAG,KAAK;QAAAT,QAAA,EAAE;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,eAAAjD,OAAA;QAC5CqD,KAAK,EAAG,QAAQ;QAAAT,QAAA,EAAE;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,eAAAjD,OAAA;QACrCqD,KAAK,EAAG,YAAY;QAAAT,QAAA,EAAE;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,KAAC,EAAE,mCAAmC,EAAE,GAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjF,CAAC,EAE6C,GAAC,eAAAjD,OAAA,CACtDF,WAAW;MAACmB,QAAQ,EAAKA;IAAU;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC,KAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEL;AAAC/C,EAAA,CA5HQD,eAAe;AAAAwD,EAAA,GAAfxD,eAAe;AA8HxB,eAAeA,eAAe;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}